import{g as E}from"./vendor-@tracespace-_ibhTgpc.js";import{r as q}from"./vendor-xtend-VQg9yHl6.js";import{r as w}from"./vendor-run-parallel-CD1_Jmin.js";import{r as L}from"./vendor-run-waterfall-caUdQ7AG.js";import{r as A}from"./vendor-gerber-to-svg-DFKxK_0l.js";import{r as O}from"./vendor-pcb-stackup-core-DLlTdNNm.js";import{r as G}from"./vendor-whats-that-gerber-Drp5jgFj.js";var c,v;function R(){if(v)return c;v=1;var s=q(),d=w(),b=L(),k=A(),y=O(),f=G();c=function(l,u,i){var p;if(typeof u=="function"&&(i=u,u=null),g(l),i==null){if(typeof Promise!="function")throw new Error("No callback specified and global Promise not found");p=new Promise(function(r,t){i=function(a,o){if(a)return t(a);r(o)}})}var P=f(l.map(function(r){return r.filename}).filter(Boolean));return b([function(t){var e=l.map(h);d(e,t)},function(t,e){var a=y(t,u);a.layers=t,e(null,a)}],function(t,e){if(t)return i(t);i(null,e)}),p;function h(r){return function(e){var a=T(r);if(a.converter)return e(null,a);var o=k(a.gerber,a.options,function(m){if(m)return e(m);a.converter=o,e(null,a)})}}function T(r){var t=r.side,e=r.type;if(r.filename&&typeof t>"u"&&typeof e>"u"){var a=P[r.filename];t=a.side,e=a.type}var o=s(r.options);return o.plotAsOutline==null&&e===f.TYPE_OUTLINE&&(o.plotAsOutline=!0),u&&u.outlineGapFill!=null&&o.plotAsOutline&&(o.plotAsOutline=u.outlineGapFill),s(r,{side:t,type:e,options:o})}};function g(n){if(!Array.isArray(n))throw new Error("first argument should be an array of layers");var l=n.map(S).filter(Boolean).join(", ");if(l)throw new Error(l)}function S(n,l){var u=f.validate(n),i=null;return!n.converter&&!n.gerber?i="is missing gerber source or cached converter":!n.filename&&!n.type?i="is missing filename or side/type":!n.filename&&!u.valid&&(i="has invalid side/type ("+n.side+"/"+n.type+")"),i?"layer "+l+" "+i:null}return c}var B=R();const U=E(B);export{U as P};
